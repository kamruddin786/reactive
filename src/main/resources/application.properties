`# Default application properties
server.port=8080
spring.application.name=reactive-sse-app

# MongoDB configuration
#spring.data.mongodb.host=localhost
#spring.data.mongodb.port=27017
#spring.data.mongodb.database=reactive_messages

#Local redis configuration
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.timeout=2000ms
spring.redis.lettuce.pool.max-active=${REDIS_POOL_MAX_ACTIVE:8}
spring.redis.lettuce.pool.max-idle=${REDIS_POOL_MAX_IDLE:8}
spring.redis.lettuce.pool.min-idle=${REDIS_POOL_MIN_IDLE:0}
spring.redis.lettuce.pool.max-wait=${REDIS_POOL_MAX_WAIT:-1ms}

# Logging configuration
logging.level.com.kamruddin.reactive=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# Actuator endpoints for health checks
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
management.health.redis.enabled=true

---
# Kubernetes profile specific configuration
spring.config.activate.on-profile=k8s

# Redis configuration for K8s
spring.redis.host=${REDIS_HOST}
spring.redis.port=${REDIS_PORT}
spring.redis.timeout=2000ms
spring.redis.lettuce.pool.max-active=${REDIS_POOL_MAX_ACTIVE:8}
spring.redis.lettuce.pool.max-idle=${REDIS_POOL_MAX_IDLE:8}
spring.redis.lettuce.pool.min-idle=${REDIS_POOL_MIN_IDLE:0}
spring.redis.lettuce.pool.max-wait=${REDIS_POOL_MAX_WAIT:-1ms}

# MongoDB configuration for K8s with replica set support for change streams
#spring.data.mongodb.uri=mongodb://${MONGO_HOST:localhost}:${MONGO_PORT:27050}/${MONGO_DATABASE:reactive_messages}?replicaSet=rs0

# Graceful shutdown
server.shutdown=graceful
spring.lifecycle.timeout-per-shutdown-phase=30s

# Enable scheduling
spring.task.scheduling.pool.size=2
